check if id exist inig update
kung mag update og record status check if existing ang e update na id
convertEmptyStringsToNull ibutang sa middleware if need lng
Add guro og middle ware pre sa req. na e null tanan fields og values
check if id is valid mongoose object id
check ang fields if valid sa express validator
kung mag update na findid always mag try catch sa lain then save ayaw e usa og try catch
make console.log nice
--------------------------------------------------------------------------------

// RecordStatusType_ReferenceId - 661c2e1ac3fd5b4827b4fdf8 - Inactive
// RecordStatusType_ReferenceId - 661c2dfac3fd5b4827b4fdf7 - active
// MenuType_ReferenceId - 6620395694e99784ccb6b25d - Front Office
// MenuType_ReferenceId - 6620396c94e99784ccb6b25e - Back Office
// 662076774d900100370ccc65



sucessfully updated records
sucessfully retrieved records
sucessfully created records
sucessfully deleted records


-----------------------------

const getCategories = async (req, res, next) => {
  const categoryId = req.params.cid;
  const searchTerm = req.query.search;

  let categories, data;

  try {
    categories = await categoryModel.find().sort({ _id: -1 });
  } catch (err) {
    const error = new HttpError(err, 500);
    return next(error);
  }

  if (categoryId) {
    data = categories.filter(
      (category) => categoryId == category._id.toString()
    );
  }

  if (!categoryId) {
    data = categories;
  }

  if (searchTerm) {
    const searchKey = ["Name"];
    data = categories.filter((category) => {
      for (const key of searchKey) {
        if (new RegExp(searchTerm, "i").test(category[key])) {
          return true;
        }
      }
      return false;
    });
  }

  if (!data.length) {
    data = "No result found.";
  }

  res.status(200).json({
    message: "sucessfully retrieved records",
    data,
  });
};